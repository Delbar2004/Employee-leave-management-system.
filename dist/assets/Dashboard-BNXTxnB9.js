import{c as m,u as z,r as n,j as e,L as d,e as C,U as g,C as p,f as j}from"./index-uPpi8n1S.js";import{l as u}from"./leaveService-CJtUEa2x.js";import{C as T,a as q,L as E,B as L,p as S,b as B,c as F,A as P,d as x,F as H,D as U,f as O,e as V}from"./index-BZWX0gRg.js";import{f as c}from"./format-BZscouVm.js";import{p as v}from"./parseISO-Yj3askoI.js";import{a as I}from"./addDays-BJqhAzTY.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=m("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=m("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o=m("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h=m("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);function y(i,l){return I(i,-l)}T.register(q,E,L,S,B,F,P);const Q=()=>{const{user:i}=z(),[l,N]=n.useState([]),[b,f]=n.useState(!0),[a,k]=n.useState({totalEmployees:5,leaveToday:2,pendingRequests:0,approvedThisMonth:0,departments:[],byType:[]});n.useEffect(()=>{(async()=>{try{const[t,r]=await Promise.all([u.getAllLeaveRequests({status:"pending"}),u.getLeaveStatistics()]);N(t),k({totalEmployees:5,leaveToday:2,pendingRequests:t.length,approvedThisMonth:8,departments:[{name:"Engineering",count:10},{name:"Marketing",count:5},{name:"Finance",count:3},{name:"HR",count:2},{name:"Sales",count:4}],byType:r.byType})}catch(t){console.error("Error fetching dashboard data:",t)}finally{f(!1)}})()},[]);const w={labels:a.departments.map(s=>s.name),datasets:[{label:"Employees",data:a.departments.map(s=>s.count),backgroundColor:["#3B82F6","#14B8A6","#F59E0B","#EF4444","#8B5CF6","#EC4899"],borderWidth:0}]},M={labels:a.byType.map(s=>s.type),datasets:[{label:"Requests",data:a.byType.map(s=>s.count),backgroundColor:"#3B82F6",borderRadius:4}]},R={responsive:!0,maintainAspectRatio:!1,cutout:"70%",plugins:{legend:{position:"bottom",labels:{padding:20,usePointStyle:!0,pointStyle:"circle"}}}},A={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!0,text:"Leave Requests by Type"}},scales:{y:{beginAtZero:!0,ticks:{precision:0}}}},D=({status:s})=>{let t="",r="";switch(s){case"approved":t="bg-success-100 dark:bg-success-900/30",r="text-success-800 dark:text-success-300";break;case"pending":t="bg-accent-100 dark:bg-accent-900/30",r="text-accent-800 dark:text-accent-300";break;case"rejected":t="bg-error-100 dark:bg-error-900/30",r="text-error-800 dark:text-error-300";break;default:t="bg-gray-100 dark:bg-gray-800",r="text-gray-800 dark:text-gray-300"}return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${t} ${r} capitalize`,children:s})};return b?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-primary-600 dark:bg-primary-400 animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 rounded-full bg-primary-600 dark:bg-primary-400 animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-2 rounded-full bg-primary-600 dark:bg-primary-400 animate-bounce",style:{animationDelay:"300ms"}})]})}):e.jsxs("div",{className:"animate-fade-in",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Admin Dashboard"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:["Welcome back, ",i==null?void 0:i.name,". Here's what's happening with leave management."]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs(d,{to:"/admin/leave-requests",className:"bg-primary-50 dark:bg-primary-900/20 border border-primary-200 dark:border-primary-800 rounded-lg p-4 flex items-center justify-between transition-all hover:shadow-md",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-primary-100 dark:bg-primary-800 p-3 rounded-lg text-primary-600 dark:text-primary-400 mr-3",children:e.jsx(C,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Manage Leave Requests"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Review and approve requests"})]})]}),e.jsx(x,{size:18,className:"text-gray-400"})]}),e.jsxs(d,{to:"/admin/employees",className:"bg-secondary-50 dark:bg-secondary-900/20 border border-secondary-200 dark:border-secondary-800 rounded-lg p-4 flex items-center justify-between transition-all hover:shadow-md",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-secondary-100 dark:bg-secondary-800 p-3 rounded-lg text-secondary-600 dark:text-secondary-400 mr-3",children:e.jsx(g,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Employee Management"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Manage employee information"})]})]}),e.jsx(x,{size:18,className:"text-gray-400"})]}),e.jsxs(d,{to:"/admin/reports",className:"bg-accent-50 dark:bg-accent-900/20 border border-accent-200 dark:border-accent-800 rounded-lg p-4 flex items-center justify-between transition-all hover:shadow-md",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-accent-100 dark:bg-accent-800 p-3 rounded-lg text-accent-600 dark:text-accent-400 mr-3",children:e.jsx(J,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Reports & Analytics"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"View leave statistics"})]})]}),e.jsx(x,{size:18,className:"text-gray-400"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"card p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Employees"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:a.totalEmployees})]}),e.jsx("div",{className:"bg-primary-100 dark:bg-primary-900/30 p-3 rounded-lg text-primary-600 dark:text-primary-400",children:e.jsx(g,{size:20})})]}),e.jsx("div",{className:"flex items-center mt-2 text-xs",children:e.jsxs("span",{className:"flex items-center text-success-500",children:[e.jsx(o,{size:14,className:"mr-1"}),e.jsx("span",{children:"+2 this month"})]})})]}),e.jsxs("div",{className:"card p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"On Leave Today"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:a.leaveToday})]}),e.jsx("div",{className:"bg-secondary-100 dark:bg-secondary-900/30 p-3 rounded-lg text-secondary-600 dark:text-secondary-400",children:e.jsx(p,{size:20})})]}),e.jsx("div",{className:"flex items-center mt-2 text-xs",children:e.jsx(d,{to:"/admin/leave-requests",className:"text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300",children:"View who's out today"})})]}),e.jsxs("div",{className:"card p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pending Requests"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:a.pendingRequests})]}),e.jsx("div",{className:"bg-accent-100 dark:bg-accent-900/30 p-3 rounded-lg text-accent-600 dark:text-accent-400",children:e.jsx(H,{size:20})})]}),e.jsx("div",{className:"flex items-center mt-2 text-xs",children:e.jsxs("span",{className:a.pendingRequests>5?"text-error-500":"text-success-500",children:[a.pendingRequests>5?e.jsx(o,{size:14,className:"mr-1 inline"}):e.jsx(_,{size:14,className:"mr-1 inline"}),e.jsx("span",{children:a.pendingRequests>5?"Needs attention":"All under control"})]})})]}),e.jsxs("div",{className:"card p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Approved This Month"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:a.approvedThisMonth})]}),e.jsx("div",{className:"bg-success-100 dark:bg-success-900/30 p-3 rounded-lg text-success-600 dark:text-success-400",children:e.jsx(h,{size:20})})]}),e.jsx("div",{className:"flex items-center mt-2 text-xs",children:e.jsxs("span",{className:"flex items-center text-success-500",children:[e.jsx(o,{size:14,className:"mr-1"}),e.jsx("span",{children:"+3 from last month"})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[e.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Department Distribution"})}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"h-64",children:e.jsx(U,{data:w,options:R})})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Leave Types"})}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"h-64",children:e.jsx(O,{data:M,options:A})})})]}),e.jsxs("div",{className:"card md:col-span-2",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Leave Calendar"})}),e.jsx("div",{className:"card-body p-6",children:e.jsxs("div",{className:"flex flex-col items-center justify-center h-48",children:[e.jsx(p,{size:48,className:"text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-center",children:"Leave calendar view coming soon"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center mt-2",children:"This feature will show a monthly calendar view of all approved leave requests"})]})})]})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Pending Requests"}),e.jsx(d,{to:"/admin/leave-requests",className:"text-sm text-primary-600 hover:text-primary-500 dark:text-primary-400 dark:hover:text-primary-300",children:"View all"})]}),l.length>0?e.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:l.slice(0,5).map(s=>e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center flex-shrink-0",children:e.jsx(j,{size:16,className:"text-gray-600 dark:text-gray-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:s.employeeName}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:s.department})]})]}),e.jsx(D,{status:s.status})]}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[e.jsx("span",{className:"font-medium",children:s.leaveType})," •",e.jsxs("span",{className:"ml-1",children:[s.duration," day",s.duration!==1?"s":""]})]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[c(v(s.startDate),"MMM dd")," - ",c(v(s.endDate),"MMM dd, yyyy")]})]}),e.jsx("div",{className:"mt-3 flex space-x-2",children:e.jsx(d,{to:`/admin/leave-requests?id=${s.id}`,className:"btn btn-sm btn-primary py-1 px-3",children:"Review"})})]},s.id))}):e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mb-4",children:e.jsx(h,{size:24,className:"text-success-500"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-1",children:"All caught up!"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No pending leave requests to review"})]})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Recent Activity"})}),e.jsxs("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsxs("div",{className:"p-4 flex items-start",children:[e.jsx("div",{className:"mr-4 mt-1",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-success-100 dark:bg-success-900/30 flex items-center justify-center",children:e.jsx(h,{size:16,className:"text-success-600 dark:text-success-400"})})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-800 dark:text-gray-200",children:[e.jsx("span",{className:"font-medium",children:"John Admin"})," approved ",e.jsx("span",{className:"font-medium",children:"Robert Smith"}),"'s leave request"]}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[c(y(new Date,1),"MMM dd, yyyy")," at 10:30 AM"]})]})]}),e.jsxs("div",{className:"p-4 flex items-start",children:[e.jsx("div",{className:"mr-4 mt-1",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-error-100 dark:bg-error-900/30 flex items-center justify-center",children:e.jsx(V,{size:16,className:"text-error-600 dark:text-error-400"})})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-800 dark:text-gray-200",children:[e.jsx("span",{className:"font-medium",children:"John Admin"})," rejected ",e.jsx("span",{className:"font-medium",children:"Michael Johnson"}),"'s leave request"]}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[c(y(new Date,2),"MMM dd, yyyy")," at 2:15 PM"]})]})]}),e.jsxs("div",{className:"p-4 flex items-start",children:[e.jsx("div",{className:"mr-4 mt-1",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center",children:e.jsx(j,{size:16,className:"text-primary-600 dark:text-primary-400"})})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-800 dark:text-gray-200",children:[e.jsx("span",{className:"font-medium",children:"Emily Davis"})," submitted a new leave request"]}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[c(y(new Date,3),"MMM dd, yyyy")," at 9:45 AM"]})]})]})]})]})]})};export{Q as default};
